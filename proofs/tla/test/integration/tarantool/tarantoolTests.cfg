CONSTANTS
    Servers = {s1, s2, s3}
    ElectionQuorum = 2
    MaxClientRequests = 2
    SplitBrainCheck = TRUE
    MaxRaftTerm = 2
    MaxHeartbeatsPerTerm = 10

\* In TLA+, a behavior is defined as exhibiting a "deadlock" if it reaches some
\* state for which there is no (non-stuttering) transition that is enabled
\* (see Specifying Systems, page 222). More precisely, it is a state for which
\* there is no transition of Next that can be taken. So, checking for deadlock
\* should be disabled, when limits (e.g. MaxClientRequests) are not -1.
CHECK_DEADLOCK FALSE

SPECIFICATION Spec

INVARIANT
    OneLeaderPerTerm
    NoServerError
    TermIsAlwaysOne
    VolatileTermIsAlwaysOne
    ClientReqIsNotDone

\* PROPERTY EventuallyAllLimboEntriesHaveLsn

\* INVARIANT
\*    DebugCtrUnchanged

\* INVARIANT TestInv

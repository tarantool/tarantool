name: Setup performance
description: The Linux machine setup for running LuaJIT benchmarks
runs:
  using: composite
  steps:
    - name: Setup CI environment (Linux)
      uses: ./.github/actions/setup-linux
    - name: Install dependencies for the LuaJIT benchmarks
      run: |
        apt -y update
        apt install -y curl luarocks util-linux
      shell: bash
    - name: Install Lua modules
      run: luarocks install lua-cjson
      shell: bash
    - name: Run script to setup Linux environment
      run: sh ./perf/helpers/setup_env.sh
      shell: bash
